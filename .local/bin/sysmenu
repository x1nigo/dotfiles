#!/bin/sh

menu=$(printf "%s\n" "ğŸ”’ lock screen" "ğŸ’» power off" "ğŸ”ƒ reboot" "â™»ï¸ renew wm" "ğŸšª leave" "ğŸ’¤ sleep" "ğŸ“º display off" | dmenu -p 'System Action:')
wm="dwm"

case "$(readlink -f /sbin/init)" in
	*systemd*) cmd="systemctl" ;;
	*) cmd="loginctl" ;;
esac

case $menu in
        ğŸ”’*) slock && $(notify-send "ğŸ”“ Computer session unlocked." "Welcome back, $USER. Enjoy your stay.") ;;
        ğŸ’»*) $cmd poweroff ;;
        ğŸ”ƒ*) $cmd reboot ;;
	â™»ï¸*) kill -HUP $(pidof -s $wm) ;;
	ğŸšª*) kill $(pidof -x $wm) ;;
        ğŸ’¤*) slock $cmd suspend -i && $(notify-send "ğŸ’¡ Computer session recovered from sleep." "Welcome back, $USER. Enjoy your stay.") ;;
	ğŸ“º*) xset dpms force off ;;
	*) exit ;;
esac
