#! /bin/sh

menu=$(printf "%s\n" "ğŸ”’ lock screen" "ğŸ’» power off" "ğŸ”ƒ reboot" "â™»ï¸ renew wm" "ğŸšª leave" "ğŸ’¤ sleep" "ğŸ“º display off" | dmenu -l 10 -p 'System action:')
wm="dwm"

if ls -l /sbin/init | grep "systemd"; then
	cmd="systemctl"
else
	cmd="loginctl"
fi

case $menu in
        ğŸ”’*) slock && $(notify-send "ğŸ”“ Computer session unlocked." "Welcome back, $USER. Enjoy your stay.") ;;
        ğŸ’»*) $cmd poweroff ;;
        ğŸ”ƒ*) $cmd reboot ;;
	â™»ï¸*) kill -HUP $(pidof -s $wm) ;;
	ğŸšª*) kill $(pidof -x $wm) ;;
        ğŸ’¤*) slock $cmd suspend -i && $(notify-send "ğŸ’¡ Computer session recovered from sleep." "Welcome back, $USER. Enjoy your stay.") ;;
	ğŸ“º*) xset dpms force off ;;
	*) exit ;;
esac
