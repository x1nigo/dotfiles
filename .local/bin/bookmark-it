#! /bin/sh

bookmark=$(xclip -o)
file="${XDG_DATA_HOME:-$HOME/.local/share}/bookmarks.txt"

answers=( "Yes" "No" )

list_answers() {
        for i in ${answers[@]}; do
                echo $i
        done
}

confirm=$(list_answers | dmenu -p "Add this bookmark?" -l ${#answers[@]})

if [ $confirm = ${answers[0]} ]; then
        if grep -q "^$bookmark$" "$file"; then
                notify-send -t 2000 "Already bookmarked!"
        else
                echo $bookmark >> $file && notify-send -t 2000 "ðŸ”– Bookmark added!"
        fi
else
        notify-send -t 2000 "No added bookmark."
fi
