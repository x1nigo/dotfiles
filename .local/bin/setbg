#!/bin/sh

sel() {
	chosen=$(find $HOME/.local/share/backgrounds -type f | dmenu -l 10)
	xwallpaper --zoom "$chosen" && ln -sf "$chosen" $HOME/.local/share/bg
	exit # Exit right after setting wallpaper from folder.
}

while getopts "d" o; do
	case ${o} in
		d) sel ;;
	esac
done

# If given a file, then use that as wallpaper.
! [ -z "$1" ] && xwallpaper --zoom "$1" && exit
xwallpaper --zoom $HOME/.local/share/bg # If no arguments, then just set the previous wallpaper.
