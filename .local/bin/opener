#!/bin/sh

# This script is mainly used in addition to the lf file manager to quickly determine what program to open with.

file="$1"
base="${file%.*}"
ext="${file##*.}"

# To allow other window managers to swallow
! pidof -s dwm >/dev/null && command="swallow" || unset command

case $ext in
        png) $command sxiv "$file" ;;
        jpeg) $command sxiv "$file" ;;
        jpg) $command sxiv "$file" ;;
        gif) $command sxiv -a "$file" ;;
        webp) $command sxiv "$file" ;;
        pdf) $command zathura "$file" ;;
        epub) $command zathura "$file" ;;
	azw3) $command zathura "$file" ;;
        mp4) $command mpv "$file" ;;
        m4a) $command mpv "$file" ;;
        mkv) $command mpv "$file" ;;
        opus) $command mpv "$file" ;;
        webm) $command mpv "$file" ;;
        docx) $command libreoffice "$file" ;;
        doc) $command libreoffice "$file" ;;
        xlsx) $command libreoffice "$file" ;;
        pptx) $command libreoffice "$file" ;;
        ppt) $command libreoffice "$file" ;;
        *) $EDITOR "$file" ;;
esac
