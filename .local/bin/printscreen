#!/bin/sh

selected() {
	maim --quality=10 -u -s $HOME/selected-$(date +%y-%m-%d-%s).png \
		&& notify-send "ğŸ“¸ Took a \`selected\` screenshot!" "You may find it in your ~ directory."
}

activewin() {
	maim --quality=10 -u -i $(xdotool getactivewindow) $HOME/active-$(date +%y-%m-%d-%s).png \
		&& notify-send "ğŸ“¸ Took an \`active window\` screenshot!" "You may find it in your ~ directory."
}

chosen=$(printf "%s\n" "ğŸ–¥ï¸ desktop" "ğŸ–±ï¸ click and drag" "ğŸ¯ active window" | dmenu -fn Monospace-16 -i -l 5 -p "Select screenshot type:")

case "$chosen" in
	ğŸ“¸*) maim --quality=10 -u $HOME/desktop-$(date +'%y-%m-%d-%s').png \
		&& notify-send "ğŸ“¸ Took a \`desktop\` screenshot!" "You may find it in your ~ directory" ; exit ;;
	ğŸ–±ï¸*) selected ;;
	ğŸ¯*) activewin ;;
esac
