#! /bin/sh

case $BUTTON in
        1) pamixer --default-source -t ;;
        3) notify-send "🎤 Microphone module:" "\[Click to toggle mute\]
🎙️: mic on
❌: mic off" ;;
        4) st -e pulsemixer ;;
        5) st -e $EDITOR ${XDG_CONFIG_HOME:-$HOME/.config}/dwmblocks/blocks.h ;;
esac

mic=$(pamixer --default-source --get-volume)
[ "$(pamixer --default-source --get-mute)" = true ] && printf "🎙️❌" && exit 0 || icon="🎙️"

printf "%s%s%%\n" "$icon" "$mic"
