#!/bin/sh

vol=$(pamixer --get-volume)

[ $(pamixer --get-mute) = true ] && icon="ðŸ”‡"

if [ $(pamixer --get-mute) = false ]; then
        if [ $vol -ge 60 ]; then
                icon="ðŸ“¢"
        elif [ $vol -ge 40 ]; then
                icon="ðŸ”Š"
        elif [ $vol -ge 20 ]; then
                icon="ðŸ”‰"
        elif [ $vol -ge 0 ]; then
                icon="ðŸ”ˆ"
        fi
fi

case $BUTTON in
        1) pamixer -t ;;
        3) notify-send "ðŸ”ˆ Volume module:" "\[Click to toggle mute\]
ðŸ“¢ loudest
ðŸ”Š high
ðŸ”‰ medium
ðŸ”ˆ low
ðŸ”‡ muted speaker" ;;
        4) st -e pulsemixer ;;
        5) st -e $EDITOR ${XDG_CONFIG_HOME:-$HOME/.config}/dwmblocks/blocks.h ;;
esac

printf " %s%s%%\n" "$icon" "$vol"
